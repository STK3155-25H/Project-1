% File: ols_mse.tex
\begin{figure}[H]
\begin{tikzpicture}
\begin{axis}[
    width=8cm,
    height=6cm,
    xlabel={Polynomial degree},
    ylabel={MSE},
    title={OLS For Different Amount Of Data Points},
    legend pos=north east,
    grid=both
    ]
    \addplot [blue, mark=none] table [x=degree, y={n=40}, col sep=comma] {../outputs/tables/part_a_mse_test.csv};
    \addlegendentry{$n=40$}

    \addplot [orange, mark=none] table [x=degree, y={n=50}, col sep=comma] {../outputs/tables/part_a_mse_test.csv};
    \addlegendentry{$n=50$}

    \addplot [green!70!black, mark=none] table [x=degree, y={n=100}, col sep=comma] {../outputs/tables/part_a_mse_test.csv};
    \addlegendentry{$n=100$}

    \addplot [red, mark=none] table [x=degree, y={n=500}, col sep=comma] {../outputs/tables/part_a_mse_test.csv};
    \addlegendentry{$n=500$}

    \addplot [purple, mark=none] table [x=degree, y={n=1000}, col sep=comma] {../outputs/tables/part_a_mse_test.csv};
    \addlegendentry{$n=1000$}
\end{axis}
\end{tikzpicture}
\caption{Test mean squared error (MSE) as a function of polynomial degree for different numbers of data points $n$. 
For small $n$ (40 and 50), the MSE increases at high polynomial degrees due to overfitting, while for larger $n$ (100, 500, 1000) the MSE decreases and stabilizes, illustrating improved generalization with more data.}
\label{fig:OLS_graph}
\end{figure}
